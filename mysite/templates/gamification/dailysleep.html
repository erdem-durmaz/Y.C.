{% extends '../base.html'%}


{% block title %} {% endblock  %}
{% block meta %} {% endblock  %}

{% block css %}
<style>
    ul {
        list-style-type: none;

    }

    li {
        padding-left: 10px;
        padding-top: 3px;
    }

    .card-title {
        font-size: 1.5rem;
        line-height: 1.2;
        text-align: center;

    }

    #question {
        border-radius: 50px;
        border: 20px solid transparent;
        border-color: #F3A5A5;
        padding: 15px;

    }

    .related-question-post {
        display: flex;
        flex-direction: column;
        align-items: left;
        margin-top: 20px;
        font-size: medium;

    }

    .related-question-post-container {
        margin-top: 20px;
    }


    body{
        text-align: left;
    }

     /* WRAPPER */
    
    .site {
        display: flex;
        -webkit-box-flex: 0;
        -webkit-flex: 0 1 auto;
        -moz-box-flex: 0;
        -moz-flex: 0 1 auto;
        -ms-flex: 0 1 auto;
        flex: 0 1 auto;
        -webkit-flex-direction: column;
        -moz-flex-direction: column;
        -ms-flex-direction: column;
        flex-direction: column;
        min-height: 100vh;
    }
    .header-wrapper {
        position: relative;
        -webkit-box-flex: 0;
        -webkit-flex: 0 0 auto;
        -moz-box-flex: 0;
        -moz-flex: 0 0 auto;
        -ms-flex: 0 0 auto;
        flex: 0 0 auto;
        flex-grow: 0;}

        .header-wrapper>div[class*=header] {
            flex-grow: 1;
        }
        
        [data-parallax-depth] {
            background-attachment: fixed;
            will-change: transform;
            transform: translate3d(0, 0, 0);
        }
        .header, .header-homepage {
            background-position: center center;
            background-repeat: no-repeat;
            background-size: cover;
            position: relative;
            z-index: 0;
        }
        .header-description, .inner-header-description {
            position: relative;
            z-index: 50;
        }
        
        .gridContainer {
            max-width: 1232px;
            margin: 0 auto;
            padding-right: 15px;
            padding-left: 15px;
        }
        *, .col-xs, .gridContainer, .row {
            box-sizing: border-box;
        }
        .inner-header-description {
            padding-top: 5%;
            padding-bottom: 5%;
        }
        #offcanvas-wrapper, .site {
            -webkit-box-direction: normal;
            -webkit-box-orient: vertical;
        }
        .header .background-overlay {
            background: linear-gradient(
        135deg
        , rgba(102, 126, 234, 0.8) 0%, rgba(118, 75, 162, 0.8) 100%);
        }
        .background-overlay {
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            position: absolute;
            z-index: 1;
            display: inline-block;
            content: "";
        }
        .form-check-label {
            color: #6B7C93;
        }

        /* PAGE CONTENTS */


        .mesmerize-content-no-padding .page-content {
            padding-top: 0;
            padding-bottom: 0;
        }
        
        .site>.content, .site>.page-content {
            z-index: 1;
            -webkit-box-flex: 0;
            -webkit-flex: 0 0 auto;
            -moz-box-flex: 0;
            -moz-flex: 0 0 auto;
            -ms-flex: 0 0 auto;
            flex: 0 0 auto;
            flex-grow: 1;
            background-color: #fff;
        }

        .sidebar .panel {
            border: 1px solid #ececec;
            border-radius: 4px;
            -webkit-box-shadow: 0 0.5625rem 2.8125rem 0 rgb(35 69 152 / 15%);
            box-shadow: 0 0.5625rem 2.8125rem 0 rgb(35 69 152 / 15%);

        }

        .sidebar .widget:first-child {
            padding-top: 1.5rem;
        }
        
        .sidebar .widget {
            background-color: transparent;
            -webkit-box-shadow: none;
            box-shadow: none;
            border: none;
            padding: 1rem 1.6rem;
            margin: 0;
        }
        .sidebar .widget .widgettitle {
            letter-spacing: normal;
            text-transform: capitalize;
            font-size: 120%;
        }
        .sidebar .widget>ul {
            list-style: none;
            margin: 0;
            padding-inline-start: 0px;
        }
        .sidebar .widget>ul>li {
            padding: .4rem 0rem;
            border-top: 1px solid #ececec;
        }

        .weeklycard-header {
            padding: .75rem 1.25rem;
            margin-bottom: 0;
            
        }

        .list-group-item {
            position: relative;
            display: block;
            padding: .75rem 1.25rem;
            background-color: #fff;
            border: 0px;
        }
        .smileys{
            background-color: #6B7C93;
            
            color: #FFE132;
            position: absolute;
            left: 8px;
            bottom: -7px;
        }
</style>

<style>
    @import url("https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700");
body {

  font-size: 18px;
  background: #eeeeee;
  color: #1f2024;
}

ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.rating {
  max-width: 400px;
  margin: 80px auto;
  background: #fff;
  padding: 1em;
  border-radius: 3px;
  box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.1);
}
.rating__title {
  text-align: center;
  font-weight: 700;
  display: block;
}
.rating__list {
  max-width: 300px;
  margin: auto;
  display: flex;
  justify-content: space-between;
  padding: 1em 0;
}
.rating__input {
  display: none;
}
.rating__label {
  padding: 5px 3px;
  font-size: 26px;
  filter: grayscale(1);
  opacity: 0.7;
  cursor: pointer;
}
.rating__label.active {
  filter: grayscale(0);
  opacity: 1;
  transition: all 100ms ease;
}
.rating__label:hover {
  filter: grayscale(0.1);
  transform: scale(1.1);
  transition: 100ms ease;
}

.feedback {
  width: 100%;
  display: none;
}
.feedback textarea, .feedback input {
  max-width: 300px;
  width: 100%;
  display: block;
  margin: 0.5em auto;
  padding: 0.5em;
  font-family: inherit;
  border: 1px solid #d1d2d7;
  border-radius: 3px;
}
.feedback textarea:focus, .feedback textarea:active, .feedback input:focus, .feedback input:active {
  border-color: #c80000;
  box-shadow: 0px 0px 0px 3px rgba(200, 0, 0, 0.2);
  transition: 100ms;
  outline: 0;
}
.feedback textarea {
  height: 100px;
}
.feedback button {
  margin: 0.1em auto;
  display: table;
  text-align: center;
}
.feedback button:focus, .feedback button:active {
  outline: 0;
}



button {
  color: #ecedef;
  background-color: #9a9da8;
  border-radius: 3px;
  border: 0;
  padding: 9px 15px;
  font-size: 15px;
}

button.not-disabled {
  color: white;
  background-color: #c80000;
  text-shadow: 0px 1px 1px #620000;
  cursor: pointer;
}
button.not-disabled:hover {
  background-color: #950000;
  transition: 100ms;
}


</style>
{% endblock css %}


{%block content%}


<div>    
<form class="rating" method="POST" action="{%url 'gamification:dailysleep' %}">
    {%csrf_token%}
  <h3 class="rating__title">Ã‡ocuÄŸunuz dÃ¼n nasÄ±l uyudu?
    <div class="rating__list">
      
      <div class="rating__item">
        <input class="rating__input rating--2" id="rating-2-2" type="radio" value="-1" name="rating"/>
        <label class="rating__label rating--2" for="rating-2-2"></i><img src="https://twemoji.maxcdn.com/v/13.0.1/72x72/1f629.png" alt=""></label>
      </div>
      <div class="rating__item">
        <input class="rating__input rating--3" id="rating-3-2" type="radio" value="0" name="rating"/>
        <label class="rating__label rating--3" for="rating-3-2"><img src="https://twemoji.maxcdn.com/v/13.0.1/72x72/1f97a.png" alt=""></label>
      </div>
      
      <div class="rating__item">
        <input class="rating__input rating--5" id="rating-5-2" type="radio" value="1" name="rating"/>
        <label class="rating__label rating--5" for="rating-5-2"><img src="https://twemoji.maxcdn.com/v/13.0.1/72x72/1f929.png" alt=""></label>
      </div>
    </div>
  </h3>
  <div class="feedback">
    <button class="btn btn-lg btn-primary submit">Kaydet</button>
  </div>
</form>
</div>





<!-- #chartstart -->
<canvas width="300" height="125"id="myChart"></canvas>
<!-- #chartend -->

<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<script>
  var ctx = document.getElementById('myChart').getContext('2d');
var chart = new Chart(ctx, {
    // The type of chart we want to create
    type: 'line',

    // The data for our dataset
    data: {
        labels: {{labels}},
        datasets: [{
            label: 'Uyku durumu',
            backgroundColor: '#FF6384',
            borderColor: '#FF6384',
            pointRadius :15,
            pointHoverRadius:15,
            data: {{data}},
            fill:false,
            showLine:false,
            
        }]
    },

    // Configuration options go here
    options: {
      scales: {
        yAxes: [{
          ticks: {
            max:1,
            min:-1,
            stepSize: 1,
            // Include a dollar sign in the ticks
            callback: function(value, index, values) {
              if (value >= 1) {
                return 'ðŸ¤©';
              } else if (value == 0) {
                return 'ðŸ™„';
              } else {
                return 'ðŸ˜«';
              }
                
            }
        }
        }]
    },
      title: {
        display: true,
        text: '{% now "M" %} AyÄ± Uyku Durumu'
    }
    }
});
</script>


{%endblock%}

{%block script %}
<script>
    $('button.submit').disabled = true;	// disable button on load

// Enable button 
function enable_submit() {
  $('button.submit').disabled = false;
  $('button.submit').addClass('not-disabled');
  
}

// Disable button
function disable_submit() {
  $('button.submit').disabled = true;
  $('button.submit').removeClass('not-disabled');
}

// Display feedback after rating 
$('.rating__input').on('click', function() {
  var rating = this['value'];
  console.log(rating)
  enable_submit();
    $('.rating__label').removeClass('active');
  $(this).siblings('.rating__label').addClass('active');
  $('.feedback').css('display', "block");
  
  //feedback_validate(rating);
  
});
</script>

{%if random_message%}
<script type="text/javascript">
  $(document).ready(function(){
      $("#exampleModal").modal('show');
  });
</script>
{%endif%}


{%endblock%}


